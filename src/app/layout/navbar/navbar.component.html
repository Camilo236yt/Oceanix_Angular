<nav
  class="fixed top-4 md:top-4 left-0 right-0 z-50 px-4 md:px-6"
  data-aos="fade-down"
  data-aos-duration="400"
  data-aos-delay="0"
  data-aos-easing="ease-out-cubic"
>
  <!-- Main Navbar Container -->
  <div class="max-w-6xl mx-auto backdrop-blur-md rounded-full shadow-lg px-4 md:px-6 py-3" style="background-color: rgba(232, 227, 248, 0.7);">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <div class="flex items-center gap-2">
        <img
          src="assets/logo/logo.png"
          alt="Oceanix Logo"
          class="h-8 md:h-10 w-auto object-contain"
          style="transform: scale(3.8); margin-left: 40px;"
        />
      </div>

      <!-- Desktop Menu Items -->
      <div class="hidden md:flex items-center gap-8">
        @for (item of menuItems; track item.label) {
        <a
          (click)="scrollToSection(item.anchor)"
          [class.text-purple-600]="item.active"
          [class.text-gray-600]="!item.active"
          class="text-sm font-medium hover:text-purple-600 transition-colors cursor-pointer"
        >
          {{ item.label }}
        </a>
        }
      </div>

      <!-- Desktop Register Button -->
      <button
        (click)="navigateToRegister()"
        [disabled]="isLoading"
        class="cursor-pointer hidden md:block bg-gray-900 text-white px-6 py-2.5 rounded-full text-sm font-medium hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
        Registrarse
      </button>

      <!-- Mobile Hamburger Button -->
      <button
        (click)="toggleMobileMenu()"
        class="md:hidden p-2 text-gray-900 hover:text-purple-600 transition-colors"
        [attr.aria-label]="isMobileMenuOpen ? 'Cerrar menú' : 'Abrir menú'"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          @if (!isMobileMenuOpen) {
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          } @else {
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          }
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu Dropdown (Separate from rounded navbar) -->
  @if (isMobileMenuOpen) {
    <div class="md:hidden max-w-6xl mx-auto mt-2 backdrop-blur-md rounded-2xl shadow-lg px-6 py-4 animate-fadeIn" style="background-color: rgba(232, 227, 248, 0.95);">
      <div class="flex flex-col gap-4">
        @for (item of menuItems; track item.label) {
          <a
            (click)="scrollToSection(item.anchor)"
            [class.text-purple-600]="item.active"
            [class.text-gray-600]="!item.active"
            class="text-sm font-medium hover:text-purple-600 transition-colors cursor-pointer py-2"
          >
            {{ item.label }}
          </a>
        }
        <button
          (click)="navigateToRegister()"
          [disabled]="isLoading"
          class="bg-gray-900 text-white px-6 py-2.5 rounded-full text-sm font-medium hover:bg-gray-800 transition-colors mt-2 disabled:opacity-50 disabled:cursor-not-allowed">
          Registrarse
        </button>
      </div>
    </div>
  }
</nav>

<!-- Loading Spinner Overlay -->
@if (isLoading) {
  <app-loading-spinner></app-loading-spinner>
}
