<div class="space-y-4 md:space-y-6">
  <!-- Título -->
  <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-4">
    <div class="flex-1 min-w-0">
      <h1 class="text-2xl md:text-3xl font-bold text-[var(--text-primary)] truncate">Incidencias</h1>
      <p class="text-[var(--text-tertiary)] text-xs md:text-sm mt-1">Gestiona todas las incidencias del sistema</p>
    </div>
  </div>

  <!-- Barra de búsqueda y filtros -->
  <div class="mb-4 md:mb-6">
    <app-search-filters
      searchPlaceholder="Buscar incidencias..."
      [filters]="filterConfigs"
      (onFilterChange)="onFilterChange($event)">
    </app-search-filters>
  </div>

  <!-- Tabla de incidencias -->
  @if (isLoading) {
    <app-skeleton-loader type="table" [rows]="5" [columns]="6"></app-skeleton-loader>
  } @else {
    <app-data-table
      [columns]="tableColumns"
      [data]="incidents"
      [actions]="tableActions"
      [showPagination]="true"
      [currentPage]="currentPage"
      [totalItems]="totalItems"
      [itemsPerPage]="itemsPerPage"
      (onActionClick)="handleTableAction($event)"
      (pageChange)="onPageChange($event)"
      (pageSizeChange)="onPageSizeChange($event)">
    </app-data-table>
  }
</div>

<!-- View Incident Modal -->
<app-view-incident-modal
  [isOpen]="isViewIncidentModalOpen"
  [incidentData]="viewingIncidentData"
  (onClose)="closeViewIncidentModal()">
</app-view-incident-modal>

<!-- Attend Incident Modal -->
<app-attend-incident-modal
  [isOpen]="isAttendModalOpen"
  [incidentData]="attendingIncidentData"
  (onClose)="closeAttendModal()"
  (onStatusChange)="handleStatusChange($event)">
</app-attend-incident-modal>
