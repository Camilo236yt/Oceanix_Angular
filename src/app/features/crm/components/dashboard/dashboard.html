<div class="space-y-4 md:space-y-6">
  <!-- Page Header -->
  <div>
    <h1 class="text-2xl md:text-3xl font-bold text-[var(--text-primary)]">Dashboard</h1>
    <p class="text-sm md:text-base text-[var(--text-tertiary)] mt-1">Resumen general del sistema de incidencias</p>
  </div>

  @if (dashboardData) {
    <!-- Stats Cards Grid -->
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 lg:gap-6">
      <!-- Total Incidencias Card -->
      <div class="bg-[var(--card-bg)] rounded-lg md:rounded-xl shadow-md p-4 md:p-6 border border-[var(--card-border)]">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-0">
          <div class="flex-1">
            <p class="text-xs md:text-sm text-[var(--text-tertiary)] mb-1">Total Incidencias</p>
            <h3 class="text-xl md:text-2xl lg:text-3xl font-bold text-[var(--text-primary)]">
              {{ dashboardData.stats.totalIncidencias.total }}
            </h3>
            <p class="text-xs md:text-sm text-green-600 dark:text-green-400 mt-1 md:mt-2 flex items-center gap-1">
              <span>‚Üë</span>
              {{ dashboardData.stats.totalIncidencias.cambio }}
            </p>
          </div>
          <div class="w-10 h-10 md:w-12 md:h-12 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center self-end md:self-auto">
            <span class="text-xl md:text-2xl">‚ö†Ô∏è</span>
          </div>
        </div>
      </div>

      <!-- Incidencias Resueltas Card -->
      <div class="bg-[var(--card-bg)] rounded-lg md:rounded-xl shadow-md p-4 md:p-6 border border-[var(--card-border)]">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-0">
          <div class="flex-1">
            <p class="text-xs md:text-sm text-[var(--text-tertiary)] mb-1">Incidencias Resueltas</p>
            <h3 class="text-xl md:text-2xl lg:text-3xl font-bold text-[var(--text-primary)]">
              {{ dashboardData.stats.incidenciasResueltas.total }}
            </h3>
            <p class="text-xs md:text-sm text-green-600 dark:text-green-400 mt-1 md:mt-2 flex items-center gap-1">
              <span>‚Üë</span>
              {{ dashboardData.stats.incidenciasResueltas.cambio }}
            </p>
          </div>
          <div class="w-10 h-10 md:w-12 md:h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center self-end md:self-auto">
            <span class="text-xl md:text-2xl">‚úÖ</span>
          </div>
        </div>
      </div>

      <!-- Pendientes Card -->
      <div class="bg-[var(--card-bg)] rounded-lg md:rounded-xl shadow-md p-4 md:p-6 border border-[var(--card-border)]">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-0">
          <div class="flex-1">
            <p class="text-xs md:text-sm text-[var(--text-tertiary)] mb-1">Pendientes</p>
            <h3 class="text-xl md:text-2xl lg:text-3xl font-bold text-[var(--text-primary)]">
              {{ dashboardData.stats.pendientes.total }}
            </h3>
          </div>
          <div class="w-10 h-10 md:w-12 md:h-12 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center self-end md:self-auto">
            <span class="text-xl md:text-2xl">‚è±Ô∏è</span>
          </div>
        </div>
      </div>

      <!-- Tiempo Promedio Card -->
      <div class="bg-[var(--card-bg)] rounded-lg md:rounded-xl shadow-md p-4 md:p-6 border border-[var(--card-border)]">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-0">
          <div class="flex-1">
            <p class="text-xs md:text-sm text-[var(--text-tertiary)] mb-1">Tiempo Promedio</p>
            <h3 class="text-xl md:text-2xl lg:text-3xl font-bold text-[var(--text-primary)]">
              {{ dashboardData.stats.tiempoPromedio.dias }} d√≠as
            </h3>
            <p class="text-xs md:text-sm text-green-600 dark:text-green-400 mt-1 md:mt-2 flex items-center gap-1">
              <span>‚Üì</span>
              {{ dashboardData.stats.tiempoPromedio.cambio }}
            </p>
          </div>
          <div class="w-10 h-10 md:w-12 md:h-12 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center self-end md:self-auto">
            <span class="text-xl md:text-2xl">üìà</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Charts Section -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6">
      <!-- Bar Chart Card -->
      <div class="bg-[var(--card-bg)] rounded-lg md:rounded-xl shadow-md p-4 md:p-6 border border-[var(--card-border)]">
        <h3 class="text-lg md:text-xl font-bold text-[var(--text-primary)] mb-3 md:mb-4">Incidencias por Tipo</h3>
        @if (barChartOptions) {
          <div class="h-64 md:h-80 w-full overflow-hidden">
            <apx-chart
              #barChart
              [series]="barChartOptions.series!"
              [chart]="barChartOptions.chart!"
              [dataLabels]="barChartOptions.dataLabels!"
              [plotOptions]="barChartOptions.plotOptions!"
              [xaxis]="barChartOptions.xaxis!"
              [fill]="barChartOptions.fill!"
              [colors]="barChartOptions.colors!"
              [responsive]="barChartOptions.responsive!"
            ></apx-chart>
          </div>
        }
      </div>

      <!-- Pie Chart Card -->
      <div class="bg-[var(--card-bg)] rounded-lg md:rounded-xl shadow-md p-4 md:p-6 border border-[var(--card-border)]">
        <h3 class="text-lg md:text-xl font-bold text-[var(--text-primary)] mb-3 md:mb-4">Estado de Incidencias</h3>
        @if (pieChartOptions) {
          <div class="h-64 md:h-80">
            <apx-chart
              #pieChart
              [series]="pieChartOptions.series!"
              [chart]="pieChartOptions.chart!"
              [labels]="pieChartOptions.labels!"
              [colors]="pieChartOptions.colors!"
              [legend]="pieChartOptions.legend!"
              [dataLabels]="pieChartOptions.dataLabels!"
              [plotOptions]="pieChartOptions.plotOptions!"
              [responsive]="pieChartOptions.responsive!"
            ></apx-chart>
          </div>
        }
      </div>
    </div>
  }
</div>
