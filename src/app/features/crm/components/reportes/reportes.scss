// Estilos para inputs de fecha compatibles con Safari y todos los navegadores

.date-input {
  position: relative;
  background-color: white;
  color: #374151; // gray-700

  // Safari específico - forzar el uso del picker nativo
  &::-webkit-date-and-time-value {
    text-align: left;
  }

  // Ocultar el icono de calendario nativo en navegadores que lo soportan
  // excepto Safari donde lo necesitamos
  &::-webkit-calendar-picker-indicator {
    position: absolute;
    right: 0.75rem;
    cursor: pointer;
    opacity: 0;
    width: 1.25rem;
    height: 1.25rem;
    z-index: 1;
  }

  // Cuando el input tiene foco, mantener visible el picker
  &:focus::-webkit-calendar-picker-indicator {
    opacity: 0;
  }

  // Estilos para el input cuando está vacío
  &:invalid {
    color: #9ca3af; // gray-400
  }

  &:valid {
    color: #374151; // gray-700
  }

  // Firefox
  &::-moz-calendar-picker-indicator {
    opacity: 0;
    position: absolute;
    right: 0.75rem;
    cursor: pointer;
    width: 1.25rem;
    height: 1.25rem;
    z-index: 1;
  }
}

// Asegurar que el icono SVG personalizado sea visible
.date-icon {
  z-index: 0;
}

// Estilos específicos solo para Safari
@supports (-webkit-hyphens:none) {
  .date-input {
    // Safari necesita altura mínima explícita
    min-height: 42px;

    &::-webkit-calendar-picker-indicator {
      // En Safari, hacer el picker transparente pero clickeable
      opacity: 0;
      cursor: pointer;
    }
  }
}

// Responsive adjustments
@media (min-width: 768px) {
  .date-input {
    min-height: 44px;
  }
}
