<div class="documentation-container">
  <!-- Mobile Menu Toggle Button -->
  <button class="mobile-menu-toggle" (click)="toggleMobileMenu()" aria-label="Toggle menu">
    <svg class="menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      @if (!isMobileMenuOpen) {
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      } @else {
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      }
    </svg>
  </button>

  <!-- Sidebar -->
  <aside class="sidebar" [class.mobile-open]="isMobileMenuOpen">
    <div class="sidebar-header">
      <div class="sidebar-content">
        <img src="assets/logo/logo-corto.png" alt="Oceanix Logo" class="sidebar-logo" />
        <p class="sidebar-subtitle">Documentación</p>
      </div>
    </div>

    <nav class="sidebar-nav">
      @for (section of menuSections; track section.title) {
        <div class="menu-section">
          <h3 class="section-title">{{ section.title }}</h3>
          <ul class="menu-items">
            @for (item of section.items; track item.id) {
              <li>
                <button
                  (click)="selectItem(item.id)"
                  [class.active]="selectedItem === item.id"
                  class="menu-item"
                >
                  <svg class="item-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" [attr.d]="item.iconPath" />
                  </svg>
                  <span class="item-label">{{ item.label }}</span>
                </button>
              </li>
            }
          </ul>
        </div>
      }
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    @if (getContent()) {
      <div class="content-wrapper">
        <h1 class="content-title">{{ getContent().title }}</h1>

        @if (getContent().description) {
          <p class="content-description">{{ getContent().description }}</p>
        }

        @for (section of getContent().sections; track section.heading) {
          <section class="content-section">
            <h2 class="section-heading">{{ section.heading }}</h2>

            @if (section.image) {
              <div class="section-image-wrapper">
                <img [src]="section.image" [alt]="section.heading" [class]="section.imageSmall ? 'section-image-small' : 'section-image'" />
              </div>
            }

            @if (section.images) {
              @for (image of section.images; track image) {
                <div class="section-image-wrapper">
                  <img [src]="image" [alt]="section.heading" class="section-image" />
                </div>
              }
            }

            <div class="section-text">
              @for (line of section.content.split('\n'); track $index) {
                <p class="text-line">{{ line }}</p>
              }
            </div>
          </section>
        }
      </div>
    } @else {
      <div class="content-wrapper">
        <div class="empty-state">
          <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z" />
          </svg>
          <h2 class="empty-title">En Desarrollo</h2>
          <p class="empty-text">Esta sección de la documentación está en proceso de construcción. Pronto estará disponible con toda la información detallada.</p>
        </div>
      </div>
    }
  </main>
</div>
